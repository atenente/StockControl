<div class="container">
  <h1><%= t('.all_products') %></h1>

  <%= link_to t('products.new.create_product'), new_product_path, class: 'btn btn-success', data: { turbo: false } %>
  <br><br>
  <div class="mb-1">
    <%= form_tag(products_path, method: :get, data: { turbo_frame: 'search' } ,class: "row g-2") do %>
      <div class="col-auto">
        <%=
          select_tag(:filter_column, options_for_select(Product.column_names
            .reject { |col| ['id', 'company_id','created_at', 'updated_at'].include?(col) }
            .map { |col| [t("global.#{col}"), col] }), class: "form-select")
        %>
      </div>
      <div class="col">
        <%= text_field_tag(:filter_value, nil, placeholder: t('global.search_by_item'), class: "form-control") %>
      </div>
      <div class="col-auto">
        <%= submit_tag(t('global.search'), class: "btn btn-primary") %>
      </div>
    <% end %>
  </div>
  <div class="table-responsive-md">
    <%= turbo_frame_tag 'search' do %>
      <table class="table">
        <%= render 'header_product' %>
        <%= render @products %>
      </table>
    <% end  %>
  </div>
</div>

